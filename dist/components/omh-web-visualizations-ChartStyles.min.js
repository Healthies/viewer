!function(t,e){var r="OMHWebVisualizations";t[r]=e(t,r)}(this,function(t,e){var r=t.hasOwnProperty(e)?t[e]:{};return r.ChartStyles=function(t){var e=[],r=function(e){return t.getMeasureSettings(e.measure).thresholds},s={measure:function(t){return function(e){return e.measure===t}},above:function(t){return function(e){return e.y>t}},aboveThresholdMax:function(){return function(t){var e=r(t),s=e?e.max:null;return s?t.y>s:!1}},below:function(t){return function(e){return e.y<t}},belowThresholdMin:function(){return function(t){var e=r(t),s=e?e.min:null;return s?t.y<s:!1}},dailyBeforeHour:function(t){return function(e){return e.x.getHours()<t}}};this.filters=s,this.getDefaultStylesForPlot=function(t){var e={Scatter:[{name:"default",attributes:{fill:"#4a90e2",stroke:"#0066d6","stroke-width":"1px",size:9,opacity:.5}},{name:"above",filters:[s.aboveThresholdMax()],attributes:{fill:"#e8ac4e",stroke:"#745628"}},{name:"below",filters:[s.belowThresholdMin()],attributes:{fill:"#e8ac4e",stroke:"#745628"}}],Line:[{name:"default",attributes:{stroke:"#dedede","stroke-width":"1px"}}],ClusteredBar:[{name:"default",attributes:{fill:"#4a90e2"}},{name:"secondary",filters:[function(t){return!t.primary}],attributes:{fill:"#eeeeee"}}]},r=e[t.constructor.name];return r?r:{}},this.applyFilters=function(t,e){for(j=0;j<t.length;j++)if(!t[j](e))return!1;return!0},this.getAttributeValueAccessor=function(t,e){return function(r){var s=this.resolveAttributeValue(t,r);return s?s:e(r)}.bind(this)},this.getStylesKeyedByAttributeName=function(t){var e={};return t.forEach(function(t){var r=Object.getOwnPropertyNames(t.attributes);r.forEach(function(r){e[r]||(e[r]=[]);var s={filters:t.filters,value:t.attributes[r]};e[r].push(s)})}),e},this.getFilteredProperty=function(t,e,r){for(i=r.length-1;i>=0;i--){var s=r[i].filters,n=r[i][e];if(!s)return n;if(this.applyFilters(s,t))return n}return null},this.resolveAttributeValue=function(t,e){return this.getFilteredProperty(e,"value",t)},this.getStylesForPlot=function(t){for(var r in e)if(e[r].plot===t)return e[r].styles},this.setStylesForPlot=function(t,r){var s=this.getStylesForPlot(r);s?s.styles=t:e.push({plot:r,styles:t}),this.assignAttributesToPlot(t,r)},this.resolveStyleNameForDatumInPlot=function(t,e){var r=this.getStylesForPlot(e);return r?this.getFilteredProperty(t,"name",r):null},this.assignAttributesToPlot=function(t,e){var r=this.getStylesKeyedByAttributeName(t);for(var s in r)"size"===s?(defaultAccessor=e.size()?e.size().accessor:null,e.size(this.getAttributeValueAccessor(r[s],defaultAccessor))):(defaultAccessor=e.attr(s)?e.attr(s).accessor:null,e.attr(s,this.getAttributeValueAccessor(r[s],defaultAccessor)))},this.addToSelection=function(t){var e=t.select("defs")[0][0];e=e?d3.select(e):t.append("defs");var r=e.select("#y-axis-gradient")[0][0];r||(r=e.append("linearGradient").attr("id","y-axis-gradient").attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%").attr("spreadMethod","pad"),r.append("stop").attr("offset","0%").attr("stop-color","#fff").attr("stop-opacity",1),r.append("stop").attr("offset","75%").attr("stop-color","#fff").attr("stop-opacity",1),r.append("stop").attr("offset","100%").attr("stop-color","#fff").attr("stop-opacity",0))}},r});